{"ast":null,"code":"var _jsxFileName = \"/Users/tahaismail/web_projects/find_pokemon/src/Game.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport pokePic from './assets/pokemon_wallpaper.jpeg';\nimport { selectMons, getPokePics, checkFound } from './firebase';\nimport PokeCard from './components/PokeCard';\nimport PokeView from './components/PokeView';\nimport PokeSelect from './components/PokeSelect';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Game() {\n  _s();\n\n  let [foundPokes, setFoundPokes] = useState([]);\n  let pokePics;\n  let pokeCards;\n  const pickedPokemon = Promise.all(selectMons()).then(mons => {\n    let results = [];\n\n    for (let mon of mons) {\n      results.push({\n        id: mon.val().id,\n        name: mon.val().name\n      });\n    }\n\n    setFoundPokes([{\n      id: results[0].id,\n      found: false\n    }, {\n      id: results[1].id,\n      found: false\n    }, {\n      id: results[2].id,\n      found: false\n    }, {\n      id: results[3].id,\n      found: false\n    }, {\n      id: results[4].id,\n      found: false\n    }]);\n    pokePics = Promise.all(getPokePics(results)).then(monURLs => {\n      let monPics = [];\n\n      for (let url in monURLs) {\n        monPics.push({\n          id: results[url].id,\n          src: monURLs[url]\n        });\n      }\n\n      pokeCards = monPics.map((mon, index) => /*#__PURE__*/_jsxDEV(PokeCard, {\n        pokePic: mon.src,\n        pokeName: results[index].name,\n        found: foundPokes[index].found\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this));\n      return monPics;\n    }).catch(error => {\n      console.error(error);\n    });\n    return results;\n  }).catch(error => {\n    console.error(error);\n  });\n  const history = useHistory();\n  const startTime = Date.now();\n  const name = history.location.state.name;\n  let [currentBoxCords, setCurrentBoxCords] = useState(null);\n\n  const selectArea = e => {\n    const xClick = e.clientX;\n    const yClick = e.clientY;\n    const boxCords = [xClick - 45, xClick + 45, yClick - 55, yClick + 55];\n    setCurrentBoxCords([boxCords[0], boxCords[2]]);\n  };\n\n  const updateFound = pokeID => {\n    const found = checkFound(pokeID);\n    const index = foundPokes.map(poke => poke.id).indexOf(pokeID);\n    setFoundPokes(foundPokes.slice(0, index).concat({\n      id: pickedPokemon[index].id,\n      found: found\n    }).concat(foundPokes.slice(index + 1)));\n    setCurrentBoxCords(null);\n  };\n\n  useEffect(() => {\n    const totalFound = foundPokes.reduce((prev, cur) => prev + cur.found, 0);\n\n    if (totalFound === 5) {\n      const elapsedTime = Date.now() - startTime;\n      history.push({\n        pathname: '/end',\n        state: {\n          time: elapsedTime,\n          name: name\n        }\n      });\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Pok\\xE9mon to find:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pokeBox\",\n      children: pokePics.map((mon, index) => /*#__PURE__*/_jsxDEV(PokeCard, {\n        pokePic: mon.src,\n        pokeName: pickedPokemon[index].name,\n        found: foundPokes[index].found\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: pokePic,\n      alt: \"pokemon-game\",\n      onClick: selectArea\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), currentBoxCords ? /*#__PURE__*/_jsxDEV(PokeView, {\n      boxCords: currentBoxCords,\n      children: /*#__PURE__*/_jsxDEV(PokeSelect, {\n        pokeList: pickedPokemon,\n        foundPokes: foundPokes,\n        foundFunction: updateFound\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Game, \"5YJIXn0IiupdJUdIyJe8/yGFscE=\", false, function () {\n  return [useHistory];\n});\n\n_c = Game;\nexport default Game;\n\nvar _c;\n\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"sources":["/Users/tahaismail/web_projects/find_pokemon/src/Game.js"],"names":["React","useState","useEffect","useHistory","pokePic","selectMons","getPokePics","checkFound","PokeCard","PokeView","PokeSelect","Game","foundPokes","setFoundPokes","pokePics","pokeCards","pickedPokemon","Promise","all","then","mons","results","mon","push","id","val","name","found","monURLs","monPics","url","src","map","index","catch","error","console","history","startTime","Date","now","location","state","currentBoxCords","setCurrentBoxCords","selectArea","e","xClick","clientX","yClick","clientY","boxCords","updateFound","pokeID","poke","indexOf","slice","concat","totalFound","reduce","prev","cur","elapsedTime","pathname","time"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport pokePic from './assets/pokemon_wallpaper.jpeg';\nimport { selectMons, getPokePics, checkFound } from './firebase';\nimport PokeCard from './components/PokeCard';\nimport PokeView from './components/PokeView';\nimport PokeSelect from './components/PokeSelect';\n\nfunction Game() {\n    let [foundPokes, setFoundPokes] = useState([]);\n    let pokePics;\n    let pokeCards;\n    const pickedPokemon = Promise.all(selectMons()).then((mons) => {\n        let results = [];\n        for (let mon of mons) {\n            results.push({\n                id: mon.val().id,\n                name: mon.val().name\n            });\n        }\n\n        setFoundPokes([    \n            {\n                id: results[0].id,\n                found: false\n            },\n            {\n                id: results[1].id,\n                found: false\n            },\n            {\n                id: results[2].id,\n                found: false \n            },\n            {\n                id: results[3].id,\n                found: false  \n            },\n            {\n                id: results[4].id,\n                found: false\n            }\n        ]);\n        pokePics = Promise.all(getPokePics(results)).then((monURLs) => {\n            let monPics = [];\n            for (let url in monURLs) {\n                monPics.push({\n                    id: results[url].id,\n                    src: monURLs[url]\n                });\n            }\n            pokeCards = monPics.map((mon, index) => \n                <PokeCard \n                    pokePic={mon.src} \n                    pokeName={results[index].name} \n                    found={foundPokes[index].found}>   \n                </PokeCard>)\n            return monPics;\n        })\n        .catch((error) => {\n            console.error(error);\n        }); \n        return results;\n\n        }).catch((error) => {\n            console.error(error);\n        });\n    \n    const history = useHistory();\n    const startTime = Date.now();\n    const name = history.location.state.name;\n\n    \n    let [currentBoxCords, setCurrentBoxCords] = useState(null);\n\n    const selectArea = (e) => {\n        const xClick = e.clientX;\n        const yClick = e.clientY;\n        const boxCords = [xClick - 45, xClick + 45, yClick - 55, yClick + 55];\n        setCurrentBoxCords([boxCords[0], boxCords[2]]);\n    }\n\n    const updateFound = (pokeID) => {\n        const found = checkFound(pokeID);\n        const index = foundPokes.map((poke) => poke.id).indexOf(pokeID);\n        setFoundPokes(foundPokes.slice(0, index).concat({id: pickedPokemon[index].id, found: found}).concat(foundPokes.slice(index + 1)));\n        setCurrentBoxCords(null);\n    }\n\n    useEffect(() => {\n        const totalFound = foundPokes.reduce((prev, cur) => prev + cur.found, 0);\n        if (totalFound === 5) {\n            const elapsedTime = Date.now() - startTime;\n            history.push({\n                pathname: '/end',\n                state: {\n                    time: elapsedTime,\n                    name: name\n                }\n            });\n        }\n    })\n\n    return (\n        <div>\n            <h2>Pokémon to find:</h2>\n            <div className='pokeBox'>\n                {pokePics.map((mon, index) => \n                    <PokeCard pokePic={mon.src} pokeName={pickedPokemon[index].name} found={foundPokes[index].found}></PokeCard>\n                )}\n            </div>\n            <img src={pokePic} alt='pokemon-game' onClick={selectArea}></img>\n            {currentBoxCords ? \n                <PokeView boxCords={currentBoxCords}>\n                    <PokeSelect \n                        pokeList={pickedPokemon} \n                        foundPokes={foundPokes} \n                        foundFunction={updateFound}>\n                    </PokeSelect>\n                </PokeView> \n                : null}\n        </div>\n    );\n}\n\nexport default Game;\n"]},"metadata":{},"sourceType":"module"}