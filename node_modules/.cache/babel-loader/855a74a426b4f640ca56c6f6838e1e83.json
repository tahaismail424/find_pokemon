{"ast":null,"code":"var _jsxFileName = \"/Users/tahaismail/web_projects/find_pokemon/src/End.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport { getScores, updateScores } from './firebase';\nimport ScoreCard from './components/ScoreCard';\nimport _ from 'lodash';\nimport msToTime from './displayTime';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction End() {\n  _s();\n\n  const history = useHistory();\n  let [prevScores, setPrevScores] = useState([]);\n  let [curScores, setCurScores] = useState([]);\n  let [timeDisplay, setTimeDisplay] = useState('');\n  let [highScoreMessage, setHighScoreMessage] = useState(null);\n  useEffect(() => {\n    const getData = async () => {\n      const elapsedTime = history.location.state.time;\n      const playerName = history.location.state.name;\n      const displayTime = msToTime(elapsedTime);\n      const playerScore = {\n        name: playerName,\n        rawTime: elapsedTime,\n        displayTime: displayTime\n      };\n      const prev = await getScores();\n      const cur = updateScores(playerScore, prev);\n      const message = _.isEqual(prev, cur) ? null : /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Congratulations! Your time was quick enough to make the high score board!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 13\n      }, this);\n      setPrevScores(prev);\n      setCurScores(cur);\n      setTimeDisplay(displayTime);\n      setHighScoreMessage(message);\n    };\n\n    getData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"You found all the Pokemon in\", ' ' + timeDisplay.slice(0, timeDisplay.indexOf(':')) + ' ', \"minutes and\", ' ' + timeDisplay.slice(timeDisplay.indexOf(':') + 1), \" seconds!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), highScoreMessage, /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"High Scores: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), curScores.map((scoreCard, index) => /*#__PURE__*/_jsxDEV(ScoreCard, {\n      pName: scoreCard.name,\n      pScore: scoreCard.score,\n      children: [\"key=\", index]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(Link, {\n      to: {\n        pathname: '/'\n      },\n      className: \"again-link\",\n      children: \"Click to play again\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(End, \"4Ur5CfwQh0k5K2pqsVLnKbrTXpI=\", false, function () {\n  return [useHistory];\n});\n\n_c = End;\nexport default End;\n\nvar _c;\n\n$RefreshReg$(_c, \"End\");","map":{"version":3,"sources":["/Users/tahaismail/web_projects/find_pokemon/src/End.js"],"names":["React","useEffect","useState","useHistory","Link","getScores","updateScores","ScoreCard","_","msToTime","End","history","prevScores","setPrevScores","curScores","setCurScores","timeDisplay","setTimeDisplay","highScoreMessage","setHighScoreMessage","getData","elapsedTime","location","state","time","playerName","name","displayTime","playerScore","rawTime","prev","cur","message","isEqual","slice","indexOf","map","scoreCard","index","score","pathname"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,IAArB,QAAiC,kBAAjC;AACA,SAASC,SAAT,EAAoBC,YAApB,QAAwC,YAAxC;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,QAAP,MAAqB,eAArB;;;AAEA,SAASC,GAAT,GAAe;AAAA;;AAEX,QAAMC,OAAO,GAAGR,UAAU,EAA1B;AACA,MAAI,CAACS,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,EAAD,CAA1C;AACA,MAAI,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,EAAD,CAAxC;AACA,MAAI,CAACc,WAAD,EAAcC,cAAd,IAAgCf,QAAQ,CAAC,EAAD,CAA5C;AACA,MAAI,CAACgB,gBAAD,EAAmBC,mBAAnB,IAA0CjB,QAAQ,CAAC,IAAD,CAAtD;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMmB,OAAO,GAAG,YAAY;AACxB,YAAMC,WAAW,GAAGV,OAAO,CAACW,QAAR,CAAiBC,KAAjB,CAAuBC,IAA3C;AACA,YAAMC,UAAU,GAAGd,OAAO,CAACW,QAAR,CAAiBC,KAAjB,CAAuBG,IAA1C;AACA,YAAMC,WAAW,GAAGlB,QAAQ,CAACY,WAAD,CAA5B;AACA,YAAMO,WAAW,GAAG;AAAEF,QAAAA,IAAI,EAAED,UAAR;AAAoBI,QAAAA,OAAO,EAAER,WAA7B;AAA0CM,QAAAA,WAAW,EAAEA;AAAvD,OAApB;AACA,YAAMG,IAAI,GAAG,MAAMzB,SAAS,EAA5B;AACA,YAAM0B,GAAG,GAAGzB,YAAY,CAACsB,WAAD,EAAcE,IAAd,CAAxB;AACA,YAAME,OAAO,GAAIxB,CAAC,CAACyB,OAAF,CAAUH,IAAV,EAAgBC,GAAhB,CAAD,GAAyB,IAAzB,gBAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA;AAEAlB,MAAAA,aAAa,CAACiB,IAAD,CAAb;AACAf,MAAAA,YAAY,CAACgB,GAAD,CAAZ;AACAd,MAAAA,cAAc,CAACU,WAAD,CAAd;AACAR,MAAAA,mBAAmB,CAACa,OAAD,CAAnB;AACH,KAbD;;AAcAZ,IAAAA,OAAO;AACV,GAhBQ,EAgBN,EAhBM,CAAT;AAmBA,sBACI;AAAA,4BACI;AAAA,iDACK,MAAMJ,WAAW,CAACkB,KAAZ,CAAkB,CAAlB,EAAqBlB,WAAW,CAACmB,OAAZ,CAAoB,GAApB,CAArB,CAAN,GAAuD,GAD5D,iBAGK,MAAMnB,WAAW,CAACkB,KAAZ,CAAkBlB,WAAW,CAACmB,OAAZ,CAAoB,GAApB,IAA2B,CAA7C,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAKKjB,gBALL,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANJ,EAOKJ,SAAS,CAACsB,GAAV,CAAc,CAACC,SAAD,EAAYC,KAAZ,kBACX,QAAC,SAAD;AACI,MAAA,KAAK,EAAED,SAAS,CAACX,IADrB;AAEI,MAAA,MAAM,EAAEW,SAAS,CAACE,KAFtB;AAAA,yBAGSD,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA,YADH,CAPL,eAaI,QAAC,IAAD;AAAM,MAAA,EAAE,EAAE;AACNE,QAAAA,QAAQ,EAAE;AADJ,OAAV;AAGI,MAAA,SAAS,EAAC,YAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAoBH;;GA/CQ9B,G;UAEWP,U;;;KAFXO,G;AAmDT,eAAeA,GAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport { getScores, updateScores } from './firebase';\nimport ScoreCard from './components/ScoreCard'; \nimport _ from 'lodash';\nimport msToTime from './displayTime';\n\nfunction End() {\n\n    const history = useHistory();\n    let [prevScores, setPrevScores] = useState([]);\n    let [curScores, setCurScores] = useState([])\n    let [timeDisplay, setTimeDisplay] = useState('');\n    let [highScoreMessage, setHighScoreMessage] = useState(null);\n  \n    useEffect(() => {\n        const getData = async () => {\n            const elapsedTime = history.location.state.time;\n            const playerName = history.location.state.name;\n            const displayTime = msToTime(elapsedTime)\n            const playerScore = { name: playerName, rawTime: elapsedTime, displayTime: displayTime }\n            const prev = await getScores();\n            const cur = updateScores(playerScore, prev);\n            const message = (_.isEqual(prev, cur)) ? null :\n            <h3>Congratulations! Your time was quick enough to make the high score board!</h3>\n            setPrevScores(prev);\n            setCurScores(cur);\n            setTimeDisplay(displayTime);\n            setHighScoreMessage(message);\n        }\n        getData();\n    }, []);\n\n   \n    return (\n        <div>\n            <h2>You found all the Pokemon in \n                {' ' + timeDisplay.slice(0, timeDisplay.indexOf(':')) + ' '} \n                minutes and \n                {' ' + timeDisplay.slice(timeDisplay.indexOf(':') + 1)} seconds!</h2>\n            {highScoreMessage}\n            <h3>High Scores: </h3>\n            {curScores.map((scoreCard, index) => \n                <ScoreCard \n                    pName={scoreCard.name} \n                    pScore={scoreCard.score}>\n                    key={index}\n                    </ScoreCard>)}\n            <Link to={{\n                pathname: '/'\n                }}\n                className='again-link'>Click to play again</Link>\n        </div>\n    )\n}\n\n\n\nexport default End;\n"]},"metadata":{},"sourceType":"module"}