{"ast":null,"code":"import { initializeApp } from 'firebase/app';\nimport { getDatabase, set, ref as dataRef, get, onValue } from 'firebase/database';\nimport { getDownloadURL, ref as storageRef, getStorage } from 'firebase/storage';\nconst config = {\n  apiKey: \"AIzaSyDSDL34m1WEKMonuecyPZqmwhn36yoYgr0\",\n  authDomain: \"find-pokemon-67226.firebaseapp.com\",\n  databaseURL: \"https://find-pokemon-67226-default-rtdb.firebaseio.com\",\n  projectId: \"find-pokemon-67226\",\n  storageBucket: \"find-pokemon-67226.appspot.com\",\n  messagingSenderId: \"532150975651\",\n  appId: \"1:532150975651:web:d7b7bb9c00a0e1181bd316\",\n  measurementId: \"G-TWGH46RDE4\"\n};\nconst firebaseApp = initializeApp(config);\nconst storage = getStorage(firebaseApp);\nconst database = getDatabase(firebaseApp);\nconst gsRef = storageRef(storage, 'gs://find-pokemon-67226.appspot.com');\nconst scoreRef = dataRef(database, 'high scores'); //249 pokemon, from ID 0-248\n\nasync function selectMons() {\n  let monIDs = [];\n  let monCalls = [];\n\n  for (let i = 0; i < 5; i++) {\n    monIDs.push(Math.floor(Math.random() * 249));\n    monCalls.push(get(dataRef(database, `pokemon/${monIDs[i]}`)));\n  }\n\n  return monCalls;\n}\n\nasync function getPokePics(pokeList) {\n  let monCalls = [];\n\n  for (let pokemon of pokeList) {\n    monCalls.push(getDownloadURL(storageRef(gsRef, pokemon.name + '.png')));\n  }\n\n  let monURLs = await Promise.all(monCalls);\n  let pokePics = [];\n\n  for (let url in monURLs) {\n    pokePics.push({\n      id: pokeList[url].id,\n      src: monURLs[url]\n    });\n  }\n\n  return pokePics;\n}\n\nfunction updateScores(latestScore, scoreList) {\n  for (let score in scoreList) {\n    if (scoreList[score].score < latestScore.score) scoreList.splice(score, 1, latestScore, scoreList[score]);\n  }\n\n  scoreList.pop();\n  set(scoreRef, scoreList);\n  return scoreList;\n}\n\nfunction getScores() {\n  let scoreList;\n  onValue(scoreRef, snapshot => {\n    scoreList = snapshot.val();\n  });\n  return scoreList;\n} //check on this function\n\n\nfunction checkFound(pokeID, boxPos) {\n  let pokeCords;\n  get(dataRef(database, `pokemon/${pokeID}`)).then(snapshot => {\n    if (snapshot.exists()) {\n      pokeCords = snapshot.val().location;\n    }\n  }).catch(error => {\n    console.error(error);\n  });\n  let vertOverlap = Math.min(boxPos[1], pokeCords[1]) - Math.max(boxPos[0], pokeCords[0]);\n  let horizOverlap = Math.min(boxPos[3], pokeCords[3]) - Math.max(boxPos[2], pokeCords[2]);\n  let boxHeight = boxPos.top - boxPos.bottom;\n  let boxWidth = boxPos.right - boxPos.left;\n  if (vertOverlap * horizOverlap >= boxHeight * boxWidth / 2) return true;else return false;\n}\n\nexport { selectMons, getPokePics, updateScores, getScores, checkFound };","map":{"version":3,"sources":["/Users/tahaismail/web_projects/find_pokemon/src/firebase.js"],"names":["initializeApp","getDatabase","set","ref","dataRef","get","onValue","getDownloadURL","storageRef","getStorage","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","storage","database","gsRef","scoreRef","selectMons","monIDs","monCalls","i","push","Math","floor","random","getPokePics","pokeList","pokemon","name","monURLs","Promise","all","pokePics","url","id","src","updateScores","latestScore","scoreList","score","splice","pop","getScores","snapshot","val","checkFound","pokeID","boxPos","pokeCords","then","exists","location","catch","error","console","vertOverlap","min","max","horizOverlap","boxHeight","top","bottom","boxWidth","right","left"],"mappings":"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","sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { getDatabase, set, ref as dataRef, get, onValue } from 'firebase/database';\nimport { getDownloadURL, ref as storageRef, getStorage } from 'firebase/storage';\n\nconst config = {\n  apiKey: \"AIzaSyDSDL34m1WEKMonuecyPZqmwhn36yoYgr0\",\n  authDomain: \"find-pokemon-67226.firebaseapp.com\",\n  databaseURL: \"https://find-pokemon-67226-default-rtdb.firebaseio.com\",\n  projectId: \"find-pokemon-67226\",\n  storageBucket: \"find-pokemon-67226.appspot.com\",\n  messagingSenderId: \"532150975651\",\n  appId: \"1:532150975651:web:d7b7bb9c00a0e1181bd316\",\n  measurementId: \"G-TWGH46RDE4\"\n  };\n\nconst firebaseApp = initializeApp(config);\nconst storage = getStorage(firebaseApp);\nconst database = getDatabase(firebaseApp);\n\nconst gsRef = storageRef(storage, 'gs://find-pokemon-67226.appspot.com');\nconst scoreRef = dataRef(database, 'high scores');\n\n\n//249 pokemon, from ID 0-248\nasync function selectMons() {\n    let monIDs = [];\n    let monCalls = [];\n    for (let i = 0; i < 5; i++) {\n      monIDs.push(Math.floor(Math.random() * 249));\n      monCalls.push(get(dataRef(database, `pokemon/${monIDs[i]}`)));\n    }\n    \n    return monCalls;\n}\n\nasync function getPokePics(pokeList) {\n  let monCalls = [];\n  for (let pokemon of pokeList) {\n    monCalls.push(getDownloadURL(storageRef(gsRef, pokemon.name + '.png')))\n  }\n\n  let monURLs = await Promise.all(monCalls);\n  let pokePics = [];\n  for (let url in monURLs) {\n    pokePics.push({id: pokeList[url].id, src: monURLs[url]})\n  }\n  return pokePics;\n  }\n\n\nfunction updateScores (latestScore, scoreList) {\n  for (let score in scoreList) {\n    if (scoreList[score].score < latestScore.score) \n      scoreList.splice(score, 1, latestScore, scoreList[score]);\n  }\n  scoreList.pop();\n  set(scoreRef, scoreList);\n  return scoreList;\n}\n\nfunction getScores() {\n  let scoreList;\n  onValue(scoreRef, (snapshot) => {\n    scoreList = snapshot.val();\n  });\n  return scoreList;\n}\n\n\n//check on this function\nfunction checkFound(pokeID, boxPos) {\n  let pokeCords;\n  get(dataRef(database,`pokemon/${pokeID}`)).then((snapshot) => {\n    if (snapshot.exists()) {\n      pokeCords = snapshot.val().location;\n    }\n  }).catch((error) => {\n    console.error(error);\n  });\n  let vertOverlap = Math.min(boxPos[1], pokeCords[1]) - Math.max(boxPos[0], pokeCords[0]);\n  let horizOverlap = Math.min(boxPos[3], pokeCords[3]) - Math.max(boxPos[2], pokeCords[2]);\n  let boxHeight = boxPos.top - boxPos.bottom;\n  let boxWidth = boxPos.right - boxPos.left;\n  if (vertOverlap * horizOverlap >= (boxHeight * boxWidth) / 2) return true;\n  else return false;\n}\n\n\nexport { selectMons, getPokePics, updateScores, getScores, checkFound }"]},"metadata":{},"sourceType":"module"}