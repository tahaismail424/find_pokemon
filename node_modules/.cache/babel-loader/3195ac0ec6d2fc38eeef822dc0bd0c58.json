{"ast":null,"code":"var _jsxFileName = \"/Users/tahaismail/web_projects/find_pokemon/src/Game.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport pokePic from './assets/pokemon_wallpaper.jpeg';\nimport { selectMons, getPokePics, checkFound } from './firebase';\nimport PokeCard from './components/PokeCard';\nimport PokeView from './components/PokeView';\nimport PokeSelect from './components/PokeSelect';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Game() {\n  _s();\n\n  let [foundPokes, setFoundPokes] = useState([]);\n  let [currentBoxCords, setCurrentBoxCords] = useState(null);\n  let [pickedPokemon, setPickedPokemon] = useState([]);\n  let [pokePics, setPokePics] = useState([]);\n  let [pokeCards, setPokeCards] = useState([]);\n  useEffect(() => {\n    const getData = async () => {\n      const mons = await selectMons();\n      const pics = await getPokePics(mons);\n      const foundArray = [{\n        id: mons[0].id,\n        found: false\n      }, {\n        id: mons[1].id,\n        found: false\n      }, {\n        id: mons[2].id,\n        found: false\n      }, {\n        id: mons[3].id,\n        found: false\n      }, {\n        id: mons[4].id,\n        found: false\n      }];\n      setPickedPokemon(mons);\n      setPokePics(pics);\n      setFoundPokes(foundArray);\n      setPokeCards(pics.map((mon, index) => /*#__PURE__*/_jsxDEV(PokeCard, {\n        pokePic: mon.src,\n        pokeName: mons[index].name,\n        found: foundArray[index].found\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)));\n    };\n\n    getData();\n  }, []); // useEffect( async() => { \n  //     setPickedPokemon(Promise.all(selectMons()).then((mons) => {\n  //         let results = [];\n  //         for (let mon of mons) {\n  //             results.push({\n  //                 id: mon.val().id,\n  //                 name: mon.val().name\n  //             });\n  //         }\n  //         setFoundPokes(foundArray);\n  //         setPokePics(\n  //             Promise.all(getPokePics(results)).then((monURLs) => {\n  //             let monPics = [];\n  //             for (let url in monURLs) {\n  //                 monPics.push({\n  //                     id: results[url].id,\n  //                     src: monURLs[url]\n  //                 });\n  //             }\n  //             pokeCards.current = monPics.map((mon, index) => \n  //                 <PokeCard\n  //                     pokePic={mon.src}\n  //                     pokeName={results[index].name}\n  //                     found={foundArray[index].found}\n  //                     ></PokeCard>)\n  //             return monPics;\n  //         })\n  //         .catch((error) => {\n  //             console.error(error);\n  //         })\n  //         );\n  //         return results;\n  //         }).catch((error) => {console.log(error)})\n  //     )\n  // }, []);\n\n  const history = useHistory();\n  const startTime = Date.now();\n  const name = history.location.state.name;\n\n  const selectArea = e => {\n    const xClick = e.clientX;\n    const yClick = e.clientY;\n    const boxCords = [xClick - 45, xClick + 45, yClick - 55, yClick + 55];\n    setCurrentBoxCords([boxCords[0], boxCords[2]]);\n  };\n\n  const updateFound = pokeID => {\n    const found = checkFound(pokeID);\n    const index = foundPokes.map(poke => poke.id).indexOf(pokeID);\n    setFoundPokes(foundPokes.slice(0, index).concat({\n      id: pickedPokemon[index].id,\n      found: found\n    }).concat(foundPokes.slice(index + 1)));\n    setCurrentBoxCords(null);\n  };\n\n  useEffect(() => {\n    const totalFound = foundPokes.reduce((prev, cur) => prev + cur.found, 0);\n\n    if (totalFound === 5) {\n      const elapsedTime = Date.now() - startTime;\n      history.push({\n        pathname: '/end',\n        state: {\n          time: elapsedTime,\n          name: name\n        }\n      });\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Pok\\xE9mon to find:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pokeBox\",\n      children: pokeCards\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: pokePic,\n      alt: \"pokemon-game\",\n      onClick: selectArea\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this), currentBoxCords ? /*#__PURE__*/_jsxDEV(PokeView, {\n      boxCords: currentBoxCords,\n      children: /*#__PURE__*/_jsxDEV(PokeSelect, {\n        pokeList: pickedPokemon,\n        foundPokes: foundPokes,\n        foundFunction: updateFound\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Game, \"oSEKBAKp9+3Z1z0wv0kpHlJ9sIA=\", false, function () {\n  return [useHistory];\n});\n\n_c = Game;\nexport default Game;\n\nvar _c;\n\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"sources":["/Users/tahaismail/web_projects/find_pokemon/src/Game.js"],"names":["React","useState","useEffect","useHistory","pokePic","selectMons","getPokePics","checkFound","PokeCard","PokeView","PokeSelect","Game","foundPokes","setFoundPokes","currentBoxCords","setCurrentBoxCords","pickedPokemon","setPickedPokemon","pokePics","setPokePics","pokeCards","setPokeCards","getData","mons","pics","foundArray","id","found","map","mon","index","src","name","history","startTime","Date","now","location","state","selectArea","e","xClick","clientX","yClick","clientY","boxCords","updateFound","pokeID","poke","indexOf","slice","concat","totalFound","reduce","prev","cur","elapsedTime","push","pathname","time"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport pokePic from './assets/pokemon_wallpaper.jpeg';\nimport { selectMons, getPokePics, checkFound } from './firebase';\nimport PokeCard from './components/PokeCard';\nimport PokeView from './components/PokeView';\nimport PokeSelect from './components/PokeSelect';\n\nfunction Game() {\n    let [foundPokes, setFoundPokes] = useState([]);\n    let [currentBoxCords, setCurrentBoxCords] = useState(null);\n    let [pickedPokemon, setPickedPokemon] = useState([]);\n    let [pokePics, setPokePics] = useState([]);\n    let [pokeCards, setPokeCards] = useState([]);\n\n    useEffect(() => {\n        const getData = async () => {\n            const mons = await selectMons();\n            const pics = await getPokePics(mons);\n            const foundArray = [    \n                {\n                    id: mons[0].id,\n                    found: false\n                },\n                {\n                    id: mons[1].id,\n                    found: false\n                },\n                {\n                    id: mons[2].id,\n                    found: false \n                },\n                {\n                    id: mons[3].id,\n                    found: false  \n                },\n                {\n                    id: mons[4].id,\n                    found: false\n                }\n            ];\n            setPickedPokemon(mons);\n            setPokePics(pics);\n            setFoundPokes(foundArray);\n            setPokeCards(pics.map((mon, index) => \n                <PokeCard\n                    pokePic={mon.src}\n                    pokeName={mons[index].name}\n                    found={foundArray[index].found}\n                    key={index}\n                ></PokeCard>));\n        }\n        getData();\n    }, [])\n\n\n\n    // useEffect( async() => { \n    //     setPickedPokemon(Promise.all(selectMons()).then((mons) => {\n    //         let results = [];\n    //         for (let mon of mons) {\n    //             results.push({\n    //                 id: mon.val().id,\n    //                 name: mon.val().name\n    //             });\n    //         }\n\n            \n    \n    //         setFoundPokes(foundArray);\n\n    //         setPokePics(\n    //             Promise.all(getPokePics(results)).then((monURLs) => {\n    //             let monPics = [];\n    //             for (let url in monURLs) {\n    //                 monPics.push({\n    //                     id: results[url].id,\n    //                     src: monURLs[url]\n    //                 });\n    //             }\n    //             pokeCards.current = monPics.map((mon, index) => \n    //                 <PokeCard\n    //                     pokePic={mon.src}\n    //                     pokeName={results[index].name}\n    //                     found={foundArray[index].found}\n    //                     ></PokeCard>)\n    //             return monPics;\n    //         })\n    //         .catch((error) => {\n    //             console.error(error);\n    //         })\n    //         );\n    //         return results;\n    //         }).catch((error) => {console.log(error)})\n    //     )\n    // }, []);\n    \n    \n    const history = useHistory();\n    const startTime = Date.now();\n    const name = history.location.state.name;\n    \n    const selectArea = (e) => {\n        const xClick = e.clientX;\n        const yClick = e.clientY;\n        const boxCords = [xClick - 45, xClick + 45, yClick - 55, yClick + 55];\n        setCurrentBoxCords([boxCords[0], boxCords[2]]);\n    }\n\n    const updateFound = (pokeID) => {\n        const found = checkFound(pokeID);\n        const index = foundPokes.map((poke) => poke.id).indexOf(pokeID);\n        setFoundPokes(foundPokes.slice(0, index).concat({id: pickedPokemon[index].id, found: found}).concat(foundPokes.slice(index + 1)));\n        setCurrentBoxCords(null);\n    }\n\n    useEffect(() => {\n        const totalFound = foundPokes.reduce((prev, cur) => prev + cur.found, 0);\n        if (totalFound === 5) {\n            const elapsedTime = Date.now() - startTime;\n            history.push({\n                pathname: '/end',\n                state: {\n                    time: elapsedTime,\n                    name: name\n                }\n            });\n        }\n    })\n\n    return (\n        <div>\n            <h2>Pokémon to find:</h2>\n            <div className='pokeBox'>\n                {pokeCards}\n            </div>\n            <img src={pokePic} alt='pokemon-game' onClick={selectArea}></img>\n            {currentBoxCords ? \n                <PokeView boxCords={currentBoxCords}>\n                    <PokeSelect \n                        pokeList={pickedPokemon} \n                        foundPokes={foundPokes} \n                        foundFunction={updateFound}>\n                    </PokeSelect>\n                </PokeView> \n                : null}\n        </div>\n    );\n}\n\nexport default Game;\n"]},"metadata":{},"sourceType":"module"}